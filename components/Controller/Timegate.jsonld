{
  "@context": "https://linkedsoftwaredependencies.org/contexts/ldf-server.jsonld",
  "@id": "npmd:ldf-server",
  "components": [
    {
      "@id": "ldfs:Controller/Timegate",
      "@type": "Class",
      "extends": "ldfs:Controller",
      "requireElement": "controllers.TimegateController",
      "comment": "A TimegateController responds to timegate requests",
      "parameters": [
        {
          "@id": "ldfs:Controller/Timegate/path",
          "comment": "Path matching for the time gate",
          "range": "xsd:string",
          "unique": true,
          "inheritValues": {
            "@type": "InheritanceValue",
            "onParameter": "ldfs:Controller/Timegate/path",
            "from": "ldfs:Server/Qpf"
          }
        },
        {
          "@id": "ldfs:Controller/Timegate/memento",
          "comment": "Path to a directory where summaries can be found",
          "range": {
            "@id": "ldfs:Memento",
            "hasProperty": [
              "ldfs:datasource",
              "ldfs:Controller/Timegate/mementoVersionStart",
              "ldfs:Controller/Timegate/mementoVersionEnd",
              "ldfs:Controller/Timegate/mementoOriginalBaseURL"
            ]
          },
          "inheritValues": {
            "@type": "InheritanceValue",
            "onParameter": "ldfs:Controller/Timegate/memento",
            "from": "ldfs:Server/Qpf"
          }
        }
      ],
      "constructorArguments": [
        {
          "extends": "ldfs:Controller/constructorArgumentsObject",
          "fields": [
            {
              "@id": "ldfs:timeGatesField",
              "keyRaw": "timegates",
              "value": {
                "fields": [
                  {
                    "keyRaw": "baseUrl",
                    "value": "ldfs:Controller/Timegate/path"
                  },
                  {
                    "keyRaw": "mementos",
                    "value": {
                      "fields": [
                        {
                          "collectEntries": "ldfs:Controller/Timegate/memento",
                          "key": "ldfs:Controller/Timegate/timeMapPath",
                          "value": {
                            "elements": {
                              "collectEntries": "ldfs:Controller/Timegate/versions",
                              "value": {
                                "fields": [
                                  {
                                    "keyRaw": "datasource",
                                    "value": {
                                      "@id": "ldfs:Controller/Timegate/mementoDatasource",
                                      "unique": true
                                    }
                                  },
                                  {
                                    "keyRaw": "initial",
                                    "value": {
                                      "@id": "ldfs:Controller/Timegate/mementoStart",
                                      "unique": true
                                    }
                                  },
                                  {
                                    "keyRaw": "final",
                                    "value": {
                                      "@id": "ldfs:Controller/Timegate/mementoEnd",
                                      "unique": true
                                    }
                                  },
                                  {
                                    "keyRaw": "originalBaseURL",
                                    "value": {
                                      "@id": "ldfs:Controller/Timegate/mementoOriginalBaseURL",
                                      "unique": true
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "@id": "ldfs:Server/Qpf/ObjectMappings/routers"
            },
            {
              "@id": "ldfs:Server/Qpf/ObjectMappings/datasources"
            }
          ]
        }
      ]
    }
  ]
}
