{
  "@context": "http://linkedsoftwaredependencies.org/contexts/ldf-server.jsonld",
  "@id": "npmd:@ldf/server",
  "components": [
    {
      "@id": "ldfs:Controller/Timegate",
      "@type": "ComponentConstructable",
      "extends": "ldfs:Controller",
      "requireElement": "controllers.TimegateController",
      "comment": "A TimegateController responds to timegate requests",
      "parameters": [
        {
          "@id": "ldfs:Controller/Timegate/path",
          "comment": "Path matching for the time gate",
          "range": "xsd:string",
          "@type": "ParameterUnique"
        },
        {
          "@id": "ldfs:Controller/Timegate/memento",
          "comment": "Path to a directory where summaries can be found",
          "range": {
            "@id": "ldfs:Memento",
            "hasProperty": [
              "ldfs:Controller/Timegate/mementoDatasource",
              "ldfs:Controller/Timegate/mementoVersion"
            ]
          }
        },
        {
          "@id": "ldfs:timegateRouter",
          "inheritValues": {
            "@type": "InheritanceValue",
            "onParameter": "ldfs:router",
            "from": "ldfs:Server/Qpf"
          }
        }
      ],
      "constructorArguments": [
        {
          "extends": "ldfs:Controller/constructorArgumentsObject",
          "fields": [
            {
              "@id": "ldfs:timeGatesField",
              "keyRaw": "timegates",
              "value": {
                "fields": [
                  {
                    "keyRaw": "baseUrl",
                    "value": "ldfs:Controller/Timegate/path"
                  },
                  {
                    "keyRaw": "mementos",
                    "value": {
                      "fields": [
                        {
                          "collectEntries": "ldfs:Controller/Timegate/memento",
                          "key": "ldfs:Controller/Timegate/mementoDatasource",
                          "value": "ldfs:Controller/Timegate/mementoVersion"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "@id": "ldfs:Server/Qpf/ObjectMappings/routers"
            },
            {
              "@id": "ldfs:Server/Qpf/ObjectMappings/datasources"
            }
          ]
        }
      ]
    }
  ]
}
